<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <% if alert.present? %>
    <p class="alert alert-danger"><%= alert %></p>
  <% end %>
      
  <%= render 'partials/navbar' %> 

  <%= link_to "New note", new_note_path, class: "btn btn-primary rounded-3 h-auto w-auto mx-2 my-2"  %>
  
  <h1>Notes with tag: <%= @tag %></h1>

  <div style="margin-right: 0; margin-left: auto; "  class="row row-cols-1 row-cols-md-4 g-2 mb-3 mt-2">
    <% if @notes.any? %>
      <% @notes.each do |note| %>
        <div class="col">
          <div class="card rounded-3 h-auto w-auto mx-2 my-2">
            <div class="card-body">  
              <h3 class="card-title" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 100%;"><%= note.title %></h3>
              <p class="card-text" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 100%;"><%= note.text %></p>
              <p class="tags" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 100%;">#<%= json_filter(note.tags).join('@#').gsub('@', ' ') %></p>
              <div class="d-flex justify-content-between">
                <%= link_to 'Edit Note', edit_note_path(note), class: 'text-decoration-none text-body-secondary' %> <%= link_to 'Delete note', note_path(note), class: 'text-decoration-none text-body-secondary', method: :delete, data: { confirm: 'Are you sure?' } %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <p>Нет заметок с тегом "<%= @tag %>".</p>
    <% end %>
  </div>
</div>

  <%= render 'partials/footer' %>
</body>
</html>












